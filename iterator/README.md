# Iteratorパターン

集約オブジェクト（コレクションオブジェクト）の各要素に順番にアクセスする方法を提供するためのパターン  
オブジェクトに対する反復操作をおこなうための統一APIを提供するパターン

![クラス図](./src/class_chart.png)

## Aggregateインターフェース
数え上げを行うものの「集合体」を表す。  
このインターフェースを実装しているクラスは、コレクションになる。  
***iteratorメソッド*** は、集合体に対応するIteratorを1つ作成する。  
Iteratorを作り出すAPI(インターフェース)を定めている。

## Iteratorインターフェース
要素の数え上げスキャンを行うもの、ループ変数のような役割  
ここでは、単純に ***hasNextメソッド*** と ***nextメソッド*** の2つが宣言されています。  
要素を順番にスキャンしていくAPI(インターフェース)を定めている。
   
***hasNextメソッド***は、次の要素があるかを調べてbooleanで返します.  
このメソッドは、ループの終了条件で使います。

***nextメソッド***は、集合体の要素を1つ返すので、返り値はObject型になる。  
またこのメソッドを呼び出したら、次の要素を返すようにindexを次に進めておく。

## ConcreteAggregateクラス
このクラスを集合体として扱うために、Aggregateインターフェースを実装する。  
***iteratorメソッド***は、このクラスに対応するIteratorのインスタンスを生成して返す。


## ConcreteIteratorクラス
ConcreteAggregateクラスのスキャンをするクラス。  
スキャンするために必要な情報を持っている必要がある。

## まとめ
集合体の外にIteratorを置くことで実装とは切り離してことができる。  

Iteratorクラスに  

- 逆方向にスキャンする
- 順方向にも逆方向にもスキャンする
- 番号指定し、ジャンプする

などを追加することでスキャンのバリエーションを増やすことができる
